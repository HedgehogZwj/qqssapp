<ion-header>
  <ion-toolbar>
    <ion-button slot="start" size="small" (click)="back()">
      返回
    </ion-button>
    <div class="loghead">
      <ion-title>加湿器管理系统</ion-title>
    </div>
  </ion-toolbar>
</ion-header>

<ion-header>
  <ion-toolbar>
    <form [formGroup]="myForm">
      <div class="input-group mb-3">
        <ion-item>
          <ion-label position="floating">设备号</ion-label>
          <ion-input type="text" class="form-control" id="id" name="id" [formControl]='id'></ion-input>
        </ion-item>
      </div>
      <div class="input-group mb-3">
        <ion-item>
          <ion-label position="floating">设备类型</ion-label>
          <ion-input type="text" class="form-control" id="type" name="type" [formControl]='type'></ion-input>
        </ion-item>
      </div>
      <div class="input-group mb-3">
        <ion-item>
          <ion-label position="floating">设备信息</ion-label>
          <ion-input type="text" class="form-control" id="info" name="info" [formControl]='info'></ion-input>
        </ion-item>
      </div>
    </form>
    <div style=" margin-bottom:20px;">
      <ion-button color="medium" type="button" class="btn" (click)="search()">查询</ion-button>
      <ion-button color="medium" type="button" class="btn" (click)="add()">添加</ion-button>
      <ion-button color="medium" type="button" class="btn" (click)="update()">修改</ion-button>
      <ion-button color="medium" type="button" class="btn" (click)="delete()">删除</ion-button>
    </div>

    <table class="table" style="width: 100%; text-align: center;">
      <thead>
        <tr>
          <th style="width: 10%;" scope="col">序号</th>
          <th style="width: 20%; " scope="col">ID</th>
          <th style="width: 30%; " scope="col">Type</th>
          <th style="width: 20%; " scope="col">Status</th>
          <th style="width: 20%; " scope="col">Info</th>
        </tr>
      </thead>
    </table>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true">
  <table class="table" style="width: 100%; text-align: center; font-size: 1rem;">
    <tbody>
      <tr *ngFor='let device of device$ | async; let i = index'>
        <td style="width: 10%; " scope="col">{{i+1}}</td>
        <td style="width: 20%; " scope="col">{{device.id}}</td>
        <td style="width: 30%; " scope="col">{{device.type}}</td>
        <td style="width: 20%; " scope="col">{{device.status}}</td>
        <td style="width: 20%; " scope="col">{{device.info}}</td>
      </tr>
    </tbody>
  </table>
</ion-content>